---
title: 文件与目录权限
date: 2019-02-28 08:58:56
tags:
	- 文件权限
categories: Misc
---

## 0x00 Windows文件与文件夹权限

| 权限           | 对于文件夹                                                   | 对于文件                                                     |
| -------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 读取           | 允许查看并列出文件和子文件夹（Viewing、Listing）             | 允许查看和访问文件内容（Viewing、Accessing）                 |
| 写入           | 允许添加文件和子文件夹(Adding)                               | 允许写入一个文件(Writing)                                    |
| 读取和执行     | 允许查看和列出文件和子文件夹以及执行文件（Viewing、Listing、Excuting）; 由文件和文件夹继承 | 允许查看和访问文件的内容以及执行文件（Viewing、Accessing、Excuting） |
| 列出文件夹内容 | 允许查看和列出文件和子文件夹以及执行文件（Viewing、Listing、Excuting）; 仅由文件夹继承 | N / A                                                        |
| 修改           | 允许读取和写入文件和子文件夹（Reading、Writing）; 允许删除文件夹(Delete) | 允许读取和写入文件(Reading、Writing); 允许删除文件（Delete） |
| 完全控制       | 允许读取，写入，更改和删除文件和子文件夹(Reading、Writing、Changing、Deleting) | 允许读取，写入，更改和删除文件(Reading、Writing、Deleting)   |

<!-- more -->

- **读取(Reading)是运行脚本(Run script)所需的唯一权限。执行（Excuting）权限无关紧要。**

> Windows依据文件后缀来识别文件类型。如可执行程序：.exe、.bat、.com等。
>
> Linux通过"x"权限属性标识是否可执行。
>
> ------
>
> 脚本是由脚本语言编写的文件，脚本语言无需进行编译就可以通过解释器解释运行。

- **授予用户写入文件但不删除文件的权限不能阻止用户删除文件的内容。用户仍然可以删除内容。**
- **如果用户完全控制文件夹，则无论文件的权限如何，用户都可以删除文件夹中的文件。**

**Windows文件或文件夹权限查看**

右键文件或文件夹 ——> 属性 ——> 安全。

![](文件与目录权限\QQ截图20190228092238.png)

**参考链接：**

https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-2000-server/bb727008(v=technet.10)

## 0x01 Linux文件及目录权限

Linux权限是针对文件内容设计的，对于文件和目录而言，文件内容代指不同的东西：

- 文件：文件内容是文件存储的data。
- 目录：文件内容是目录下的文件名。

| 对象 |    文件内容    |            r             |                     w                      |        x         |
| :--: | :------------: | :----------------------: | :----------------------------------------: | :--------------: |
| 文件 |  文件内的数据  |      可读取文件内容      | 修改文件内容（编辑、增、改、不能删除文件） |     执行文件     |
| 目录 | 目录下的文件名 | 可读取看到目录下的文件名 |               可异动目录结构               | 可进入目录的权限 |

**权限对于目录：**

- **r**

> 读取文件结构的权限，即可以获得目录下的文件名清单。可执行`ls`命令。

- **w**

> 创建文件或目录。（`touch`、`mkdir`）
>
> 删除文件或目录。（不论文件的权限如何）(`rm、rmdir`)
>
> 重命名文件或目录。（`cp`）
>
> 移动文件或目录。(`mv`)

- **x**

> 能否作为工作目录。工作目录即用户当前所在的路径就是当前的工作目录。即该权限就是能否进入该目录，即能否`cd`进去。

**例子：**

![](文件与目录权限\QQ截图20190228101906.png)

- **要操作一个目录下的文件，拥有进入该目录的权限是必需的，“x”权限相当于key。“r”权限不是必需的，就像摸黑到书房取书，进入书房的钥匙是必需的，但是可以不用看到书架上的书名。没有“r”权限，命令里路径将不能补全。**
- **因此在搭建WEB服务器时，运行HTTP服务的用户对网站的根目录应该具有"rx"权限。具体权限配置可参考连接：**https://www.cnblogs.com/sochishun/p/7413572.html

**改变文件权限：**

![](文件与目录权限\QQ截图20190228105825.png)