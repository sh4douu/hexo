---
title: Python基础学习系列Chapter 1：动态类型
date: 2019-03-18 16:24:35
tags: 
	- Python基础
	- Language
categories:
	- 语言
---

### 可变类型与不可变类型

Python的对象都可分为可变性对象和不可变性对象。

可变性：可以原处修改。即修改这个对象。

> 	list = [1,2,3]     #这是一个列表对象list
> 	list[0]=0          #此时list内容变成了[0,2,3]，但还是之前的列表对象list。

不可变性：不可原处修改。即不能修改该对象，换句话说，修改了，那就不是原来的那个对象了。

<!-- more -->

核心对象：

> **可变对象**：列表、字典、集合。
>
> **不可变对象**：数字、字符串、元组。	

### 动态类型

**对象拥有两个头部信息**：

类型标识符：标识对象的类型。(type)

引用计数器：记录对象被引用的次数。

> 因此类型是属于对象的，而不是变量，对象的头部信息指明了对象类型，因此不用声明变量的类型。

**变量、对象、引用**

变量和对象实质是不同的两部分内存空间。

变量是在进行赋值操作时创建的。

引用：可看做是一个指针。

赋值的实质：变量引用了对象，即变量通过指针指向对象的内存地址空间。

> 例：a=1      #变量a引用了对象1，a拥有指向对象1的内存地址的指针。

**共享引用**

对象可以被多个变量引用，反过来说一个变量只是对象的一个引用而已。

> 例：a=1;b=a  #b会引用a引用的对象，即b会指向a所指向的内存空间，a,b共享引用了对象1。

**共享引用和原处修改**

对于共享引用了可原处修改的对象要注意，因为修改可原处修改的对象会导致所有的共享引用改变。

> 	例： 
> 			L1=[1,2,3]
> 			L2=L1
> 			L2[0]=0
> 		
>
> 		上面的操作会改变L1,因为L1、L2共享引用了同一个列表对象，而列表对象是可变对象，因此列表可以原处修改。

**垃圾回收机制**

对象每被引用一次，对象头部的引用计数器会+1。
当对象头部的引用计数为0时，对象将被回收。

缓存机制：Python会缓存复用一些小的整数或小的字符串，为了加快速度。导致某些对象不会立即回收或多个变量。

**is与==**

- == 用来测试两个引用的值是否相等。（比较表面值）
- is 用来测试两个引用是否为同一对象。（比较内存地址）

**引用与拷贝**

- 引用是指针
- 拷贝是生成新对象。

赋值生成引用，而非拷贝。

**True/False**

Python把非0数字和非空数据结构视为真，0和空数据结构视为假。